/* ===== Page Lock: no scroll/zoom/bounce ===== */
html, body { height: 100%; }
html, body {
  margin: 0;
  overflow: hidden;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: auto;
  touch-action: none;
  font-family: 'Press Start 2P', monospace;
  background: #000; color: #fff;
  user-select: none; -webkit-user-select: none;
}
* { box-sizing: border-box; }
.no-scroll { overflow: hidden; }

/* ===== Theme Variables ===== */
:root {
  --glow: cyan; --hudBg: rgba(0,0,0,.6);
  --paddle: #0ff; --ball: #fff;
  --brickA: #3498db; --brickB: #1abc9c;
  --accent: #0ff;
}
body.theme-galaxy { --glow:#0ff; --paddle:#00f7ff; --ball:#fff; --brickA:#4aa3ff; --brickB:#8be9fd; --accent:#00e5ff; }
body.theme-neon   { --glow:#ff3df7; --paddle:#00ffff; --ball:#fff; --brickA:#00ffff; --brickB:#ff3df7; --accent:#ff3df7; }
body.theme-ice    { --glow:#9dd8ff; --paddle:#bfe8ff; --ball:#eef6ff; --brickA:#8cc7ff; --brickB:#cfe9ff; --accent:#bfe8ff; }
body.theme-inferno{ --glow:#ff8a00; --paddle:#ffcc00; --ball:#fff3d6; --brickA:#ff6600; --brickB:#ff9a3d; --accent:#ff8a00; }

/* ===== HUD ===== */
#hud {
  position: fixed; z-index: 10;
  top: 0; left: 0; right: 0;
  display: grid; grid-template-columns: 1fr auto auto;
  align-items: center; gap: 10px;
  padding: 10px 12px;
  background: var(--hudBg);
  backdrop-filter: blur(6px);
  border-bottom: 2px solid var(--glow);
  box-shadow: 0 0 16px var(--glow);
}
.brand { font-size: 12px; letter-spacing:1px; text-shadow: 0 0 6px var(--glow); }
.stats { display:flex; gap:16px; font-size:12px; }
.controls { display:flex; gap:8px; align-items:center; }
#themeSelect, .toggle input, .btn, .cta, select {
  background:#111; color:var(--accent); border:2px solid var(--glow);
  border-radius:8px; padding:6px 10px; font-size:12px; box-shadow:0 0 8px var(--glow);
}
.btn { cursor:pointer; }
.cta { cursor:pointer; font-size:14px; padding:10px 14px; }

/* ===== Game Wrap ===== */
#gameWrap {
  position: fixed; z-index: 1;
  top: 56px; left: 0; right: 0; bottom: 0;
  background:
    radial-gradient(1200px 1200px at 50% 50%, rgba(255,255,255,0.05), transparent 60%),
    radial-gradient(800px 800px at 20% 20%, rgba(255,255,255,0.04), transparent 50%),
    #000;
}
#game { position:absolute; inset:0; width:100%; height:100%; }

/* Fades & countdown */
#fadeOverlay {
  position:absolute; inset:0; background:#000;
  opacity:0; transition: opacity .5s ease;
}
#fadeOverlay.hidden { pointer-events:none; }
#countdown {
  position:absolute; inset:0; display:grid; place-items:center;
  font-size: clamp(48px, 14vw, 160px);
  text-shadow: 0 0 20px var(--glow), 0 0 40px var(--glow);
  animation: pop .7s ease infinite;
}
#countdown.hidden { display:none; }
@keyframes pop { from{ transform:scale(.9); opacity:.9 } to{ transform:scale(1.05); opacity:1 } }

/* ===== Home/Overlay Screens ===== */
.screen {
  position: fixed; z-index: 12;
  inset: 56px 0 0 0; display: none;
  overflow: hidden; /* lock scroll */
}
.screen.visible { display:block; }
.home-card.glass {
  margin: 5vh auto; width: min(860px, 92%); padding: 16px;
  background: rgba(255,255,255,0.06);
  border: 2px solid var(--glow);
  border-radius: 16px;
  box-shadow: 0 0 24px var(--glow);
}
.home-card h1, .home-card h2, .home-card h3 { text-shadow: 0 0 10px var(--glow); }
.row { display:flex; gap:16px; flex-wrap:wrap; align-items:flex-start; }
.col { flex: 1 1 260px; }
.row.center { justify-content:center; }

/* Theme previews */
.theme-grid { display:grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
.theme-thumb {
  padding: 10px; border-radius: 10px; cursor: pointer;
  border: 2px solid var(--glow); background:#111; color: var(--accent);
  box-shadow: 0 0 10px var(--glow);
}
.theme-thumb.selected { outline: 3px solid var(--accent); }

/* Instructions legend */
.bullets { font-size: 12px; line-height: 1.6; }
.legend { display:grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap:10px; margin-top:10px; }
.legend .icon { display:inline-block; width: 24px; height: 24px; margin-right:8px; vertical-align:middle; }
.icon.wide  { background: linear-gradient(90deg, #444, #aaa); border:2px solid #fff; }
.icon.life  { background: radial-gradient(circle at 50% 40%, #ff8aa0, #d40039); }
.icon.slow  { background: linear-gradient(135deg, #bfe8ff, #7ac8ff); }
.icon.multi { background: radial-gradient(circle at 40% 60%, #fff, #ddd); }
.icon.fire  { background: radial-gradient(circle at 50% 50%, #ffd7a3, #ff4800); }

/* Leaderboard */
.leader-list { margin: 8px 0; padding: 0 18px; font-size:12px; }

/* Modal */
#modal { position:absolute; inset:0; display:grid; place-items:center; background:rgba(0,0,0,.55); }
#modal.hidden { display:none; }
#modal .card {
  background: rgba(255,255,255,0.06);
  border:2px solid var(--glow);
  border-radius:16px; padding:16px; box-shadow:0 0 24px var(--glow);
  text-align:center;
}
